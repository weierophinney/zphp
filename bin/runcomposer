#!/bin/bash

set -e

if [[ $# -lt 1 ]]; then
    echo "This script requires at least one arguments:"
    echo "  - the PHP version to use"
    echo "Any other arguments are passed as arguments to Composer"
    exit 1
fi

php_version=$1

docker run -it --rm -v "$(pwd):/app" -w /app --entrypoint /usr/local/sbin/composer "zendphp:${php_version}" "${@:2}"
